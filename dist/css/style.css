/* Base palette & tokens */
:root {
    --bg: #12111b;
    --bg-alt: #181728;
    --text: #d9d9e6;
    --text-dim: #8891a8;
    --link: #68a9ff;
    --link-hover: #8cc4ff;
    --accent-grad: linear-gradient(90deg,#d665ff,#7d2bff);
    --accent1: #d665ff;
    --accent2: #7d2bff;
    --border: #27263a;
    --radius: 6px;
    --mono: "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
    --sans: system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;
    --max-width: 880px;
    --transition: 180ms cubic-bezier(.4,.2,.2,1);
}
* { box-sizing: border-box; }
html, body { height:100%; }
body {
    margin:0;
    font-family: var(--sans);
    background: var(--bg);
    color: var(--text);
    -webkit-font-smoothing: antialiased;
    overflow-x:hidden;
}

a { color: var(--link); text-decoration:none; }
a:hover, a:focus-visible { color: var(--link-hover); text-decoration:underline; }

.site-header {
    display:flex;
    justify-content:space-between;
    align-items:flex-start;
    padding: clamp(.75rem,1.4vw,1.2rem) clamp(1rem,2vw,2rem);
    max-width: var(--max-width);
    margin:0 auto;
}
.brand { display:flex; align-items:center; gap: .95rem; }
.logo { display:block; filter: drop-shadow(0 2px 4px rgba(0,0,0,.35)); }
.site-title {
    font-family: var(--mono);
    font-size: clamp(1.6rem, 2.1vw, 2.2rem);
    margin:0;
    font-weight:500;
    letter-spacing:.5px;
    display:flex;
    align-items:center;
    gap:.4rem;
}
.site-title .hash {
    background: var(--accent-grad);
    -webkit-background-clip:text;
    color:transparent;
    font-weight:600;
}
.domain { color: var(--text); }

.main-nav ul {
    list-style:none;
    display:flex;
    gap:.6rem;
    margin: .35rem 0 0;
    padding:0;
    font-family: var(--mono);
    font-size:.9rem;
}
.main-nav a {
    padding:.25rem .55rem;
    border-radius:4px;
    position:relative;
    color: var(--link);
    display:inline-block;
    line-height:1.2;
    transition: background var(--transition), color var(--transition);
}
.main-nav a.active {
    background:#2c3652;
    color: var(--link-hover);
}
.main-nav a:hover:not(.active) {
    background:#1d2333;
    text-decoration:none;
}

.content {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 0 clamp(1rem,2vw,2rem) 4rem;
    min-height:calc(100dvh - 100px);
    font-family: var(--mono);
    line-height:1.52;
    font-size: 15px;
}

.narrow { max-width: 640px; }

.home-links, .post-list {
    list-style:none;
    margin:2.5rem 0;
    padding:0;
    font-size:.92rem;
    letter-spacing:.5px;
}
.home-links li,
.post-list li {
    margin:.55rem 0;
}
.arrow { color: var(--accent1); margin-right:.55rem; }

.post-list a { text-decoration:none; }
.post-list a:hover { text-decoration:underline; }

.markdown h2, .markdown h1, .markdown h3, .markdown h4 {
    font-weight:600;
    letter-spacing:.5px;
    margin:2.4rem 0 1rem;
    position:relative;
}
.markdown h1:first-child,
.markdown h2:first-child { margin-top:0; }

.markdown h1 .hash, .markdown h2 .hash {
    color: var(--accent1);
}

.markdown p, .markdown ul, .markdown ol {
    margin: 1rem 0;
    max-width: 70ch;
}

.markdown code {
    background:#1c1b2a;
    padding:.15rem .4rem;
    border-radius:4px;
    font-size:.85em;
    border:1px solid #2a2940;
}

.markdown pre {
    background:#1c1b2b;
    padding:1rem 1.2rem;
    border-radius:8px;
    overflow:auto;
    border:1px solid #2b2a42;
    font-size:.85rem;
    line-height:1.4;
}

.markdown blockquote {
    border-left:3px solid var(--accent1);
    margin:1.2rem 0;
    padding:.3rem .9rem;
    color: var(--text-dim);
    background:#1a1926;
    border-radius:4px;
}

.angled {
    list-style:none;
    padding:0;
    margin:1rem 0 1.5rem;
}
.angled li {
    margin:.45rem 0;
    max-width:70ch;
}
.angled .arrow { margin-right:.6rem; }

hr {
    border:none;
    border-top:1px solid #2b2a3d;
    margin:2.5rem 0;
}

.tag-groups { margin:2rem 0 3rem; }
.tag-cloud {
    display:flex;
    flex-wrap:wrap;
    gap:.7rem .9rem;
    margin:1.2rem 0;
    max-width: 750px;
}
.tag {
    padding:.45rem .9rem;
    border:1px solid var(--accent1);
    border-radius:14px;
    font-size:.72rem;
    letter-spacing:.06em;
    background:rgba(214,101,255,0.06);
    white-space:nowrap;
    transition:background var(--transition), color var(--transition), border-color var(--transition);
}
.tag:hover {
    background:rgba(214,101,255,0.16);
    color:#fff;
}

.loading { color: var(--text-dim); margin-top:3rem; }

.post-nav {
    margin:3rem 0 4rem;
    font-size:.85rem;
}

.readable { max-width: 900px; }

@media (max-width: 720px) {
    .site-header {
        flex-direction:column;
        align-items:flex-start;
        gap:.6rem;
    }
    .main-nav ul { flex-wrap:wrap; }
    .content { padding: 0 1rem 3rem; }
}

/* Focus outlines */
a:focus-visible, button:focus-visible {
    outline:2px solid var(--accent1);
    outline-offset:2px;
}

/* Starfield canvases */
#starfield, #shooting {
    position:fixed;
    inset:0;
    width:100%;height:100%;
    z-index:-1;
    pointer-events:none;
    background: radial-gradient(circle at 40% 60%, #18162b 0%, transparent 60%);
}

/* Scrollbar (webkit) */
::-webkit-scrollbar { width:11px; }
::-webkit-scrollbar-track { background:#141320; }
::-webkit-scrollbar-thumb {
    background:#27263a;
    border-radius:20px;
    border:2px solid #141320;
}
::-webkit-scrollbar-thumb:hover { background:#34324b; }

/* Utility */
.hidden { display:none !important; }